<% include ./partials/header %>
<% include ./ejs-functions/capFirst %>
<link href="/stylesheets/form.css" rel="stylesheet">

<div class="col-lg-12 register-wrap" id="main">
	<form class="form-register" method="post" action="/add" onsubmit="return validateForm()" novalidate>
		
		<div class="text-center mb-4">
			<h1 class="h3 mb-3 font-weight-normal">Add item to barcode database</h1>
		</div>

		<div class="form-group">
		    <label for="category">Select category</label>
		    <select class="form-control" id="category" name="category">
		      <% categoryArr.forEach(function(cat){%>
		      	<option> <%=cat%>
		      	<%})%>
		    </select>
		 
		 </div>

		<div class="form-label-group">
			<input type="text" id="barcode" name="barcode" class="form-control" placeholder="barcode" min="4" max="48" required>
			<div class="invalid-feedback">
				Invalid barcode
			</div>
			<label for="barcode">Barcode</label>
		</div>
		<div class="form-label-group">
			<input type="text" id="name" name="name" class="form-control" placeholder="name" min="2" max="100" required>
			<div class="invalid-feedback">
				Invalid name
			</div>
			<label for="name">Name of product</label>
		</div>

		  		<div class="form-label-group">
			<input type="text" id="detail" name="detail" class="form-control" placeholder="name" max="100">
			<div class="invalid-feedback">
				Invalid description
			</div>
			<label for="detail">Short description</label>
		</div>

		<button class="btn btn-lg btn-primary btn-block submit-button" type="submit">Add</button>
	</form>
</div>



<script>

// Example starter JavaScript for disabling form submissions if there are invalid fields
(function() {
	'use strict';
	window.addEventListener('load', function() {
		// Fetch all the forms we want to apply custom Bootstrap validation styles to
		var forms = document.getElementsByClassName('form-register');
		// Loop over them and prevent submission
		var validation = Array.prototype.filter.call(forms, function(form) {
			form.addEventListener('submit', function(event) {
				if (form.checkValidity() === false) {
					event.preventDefault();
					event.stopPropagation();
				}
				form.classList.add('was-validated');
			}, false);
		});
	}, false);
})();
</script>




<% include ./partials/footer %>
